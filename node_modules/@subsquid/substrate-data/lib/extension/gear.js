"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setGearProgramId = setGearProgramId;
const sts_1 = require("@subsquid/substrate-runtime/lib/sts");
const util_1 = require("../types/util");
const GearMessageQueued = (0, sts_1.struct)({
    destination: (0, sts_1.bytes)()
});
const GearUserMessageSent = (0, sts_1.struct)({
    message: (0, sts_1.struct)({
        source: (0, sts_1.bytes)()
    })
});
function setGearProgramId(runtime, event) {
    switch (event.name) {
        case 'Gear.MessageQueued':
            (0, util_1.assertEvent)(runtime, GearMessageQueued, event);
            event._gearProgramId = event.args.destination;
            break;
        case 'Gear.UserMessageSent':
            (0, util_1.assertEvent)(runtime, GearUserMessageSent, event);
            event._gearProgramId = event.args.message.source;
            break;
    }
}
//# sourceMappingURL=gear.js.map