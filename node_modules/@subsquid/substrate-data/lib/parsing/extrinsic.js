"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.decodeExtrinsics = decodeExtrinsics;
const util_internal_hex_1 = require("@subsquid/util-internal-hex");
const blake2b_1 = __importDefault(require("blake2b"));
function decodeExtrinsics(runtime, extrinsics, withHash) {
    return extrinsics.map((hex, index) => {
        let bytes = (0, util_internal_hex_1.decodeHex)(hex);
        let src = runtime.decodeExtrinsic(bytes);
        let extrinsic = {
            index,
            version: src.version
        };
        if (src.signature) {
            extrinsic.signature = src.signature;
        }
        if (withHash) {
            extrinsic.hash = (0, util_internal_hex_1.toHex)((0, blake2b_1.default)(32).update(bytes).digest());
        }
        let call = runtime.toCallRecord(src.call);
        return { extrinsic, call };
    });
}
//# sourceMappingURL=extrinsic.js.map