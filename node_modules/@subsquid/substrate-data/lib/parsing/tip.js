"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setExtrinsicTips = setExtrinsicTips;
const sts_1 = require("@subsquid/substrate-runtime/lib/sts");
const SignatureWithTip = (0, sts_1.struct)({
    signedExtensions: (0, sts_1.struct)({
        chargeTransactionPayment: (0, sts_1.union)((0, sts_1.numeric)(), (0, sts_1.struct)({ tip: (0, sts_1.numeric)() }))
    })
});
function setExtrinsicTips(runtime, extrinsics) {
    if (!runtime.checkType(runtime.description.signature, SignatureWithTip))
        return;
    for (let ex of extrinsics) {
        if (ex.signature) {
            let signature = ex.signature;
            if (typeof signature.signedExtensions.chargeTransactionPayment == 'object') {
                ex.tip = BigInt(signature.signedExtensions.chargeTransactionPayment.tip);
            }
            else {
                ex.tip = BigInt(signature.signedExtensions.chargeTransactionPayment);
            }
        }
    }
}
//# sourceMappingURL=tip.js.map