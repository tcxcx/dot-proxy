"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.trimInvalid = exports.assertIsValid = exports.setInvalid = void 0;
const consistency_error_1 = require("./consistency-error");
function setInvalid(blocks, index) {
    blocks[index || 0]._isInvalid = true;
}
exports.setInvalid = setInvalid;
function assertIsValid(blocks) {
    for (let block of blocks) {
        if (block._isInvalid)
            throw new consistency_error_1.BlockConsistencyError(block, block._errorMessage);
    }
}
exports.assertIsValid = assertIsValid;
function trimInvalid(blocks) {
    for (let i = 0; i < blocks.length; i++) {
        if (blocks[i]._isInvalid)
            return blocks.slice(0, i);
    }
    return blocks;
}
exports.trimInvalid = trimInvalid;
//# sourceMappingURL=invalid.js.map