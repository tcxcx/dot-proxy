"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConstantValidator = void 0;
const error_1 = require("../error");
const util_1 = require("../util");
class ConstantValidator {
    constructor(value, equals = strictEquals) {
        this.value = value;
        this.equals = equals;
        this.message = `value {value} is not equal to ${(0, util_1.print)(this.value)}`;
    }
    cast(value) {
        if (this.equals(value, this.value))
            return this.value;
        return new error_1.ValidationFailure(value, this.message);
    }
    validate(value) {
        if (this.equals(value, this.value))
            return;
        return new error_1.ValidationFailure(value, this.message);
    }
    phantom() {
        return this.value;
    }
}
exports.ConstantValidator = ConstantValidator;
function strictEquals(a, b) {
    return a === b;
}
//# sourceMappingURL=constant.js.map