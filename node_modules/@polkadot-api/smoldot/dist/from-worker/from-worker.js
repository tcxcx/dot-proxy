'use strict';

var noAutoBytecode = require('smoldot/no-auto-bytecode');

const startFromWorker = (worker, options = {}) => {
  const bytecode = new Promise((resolve) => {
    worker.onmessage = (event) => resolve(event.data);
  });
  const { port1, port2 } = new MessageChannel();
  worker.postMessage(port1, [port1]);
  return noAutoBytecode.startWithBytecode({
    bytecode,
    portToWorker: port2,
    ...options
  });
};

exports.startFromWorker = startFromWorker;
//# sourceMappingURL=from-worker.js.map
