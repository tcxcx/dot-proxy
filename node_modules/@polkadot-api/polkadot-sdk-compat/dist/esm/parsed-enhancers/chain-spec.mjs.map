{"version":3,"file":"chain-spec.mjs","sources":["../../../src/parsed-enhancers/chain-spec.ts"],"sourcesContent":["import type { ParsedJsonRpcEnhancer } from \"@/parsed\"\nimport { chainSpec } from \"@/methods\"\n\nexport const fixChainSpec: ParsedJsonRpcEnhancer = (base) => (onMsg) => {\n  const { send: originalSend, disconnect } = base(onMsg)\n\n  const send = (msg: any) => {\n    switch (msg.method) {\n      case chainSpec.chainName:\n        return originalSend({ ...msg, method: \"system_chain\" })\n      case chainSpec.genesisHash:\n        return originalSend({\n          ...msg,\n          method: \"chain_getBlockHash\",\n          params: [0],\n        })\n      case chainSpec.properties:\n        return originalSend({ ...msg, method: \"system_properties\" })\n    }\n    originalSend(msg)\n  }\n\n  return {\n    send,\n    disconnect,\n  }\n}\n"],"names":[],"mappings":";;AAGO,MAAM,YAAsC,GAAA,CAAC,IAAS,KAAA,CAAC,KAAU,KAAA;AACtE,EAAA,MAAM,EAAE,IAAM,EAAA,YAAA,EAAc,UAAW,EAAA,GAAI,KAAK,KAAK,CAAA;AAErD,EAAM,MAAA,IAAA,GAAO,CAAC,GAAa,KAAA;AACzB,IAAA,QAAQ,IAAI,MAAQ;AAAA,MAClB,KAAK,SAAU,CAAA,SAAA;AACb,QAAA,OAAO,aAAa,EAAE,GAAG,GAAK,EAAA,MAAA,EAAQ,gBAAgB,CAAA;AAAA,MACxD,KAAK,SAAU,CAAA,WAAA;AACb,QAAA,OAAO,YAAa,CAAA;AAAA,UAClB,GAAG,GAAA;AAAA,UACH,MAAQ,EAAA,oBAAA;AAAA,UACR,MAAA,EAAQ,CAAC,CAAC;AAAA,SACX,CAAA;AAAA,MACH,KAAK,SAAU,CAAA,UAAA;AACb,QAAA,OAAO,aAAa,EAAE,GAAG,GAAK,EAAA,MAAA,EAAQ,qBAAqB,CAAA;AAAA;AAE/D,IAAA,YAAA,CAAa,GAAG,CAAA;AAAA,GAClB;AAEA,EAAO,OAAA;AAAA,IACL,IAAA;AAAA,IACA;AAAA,GACF;AACF;;;;"}