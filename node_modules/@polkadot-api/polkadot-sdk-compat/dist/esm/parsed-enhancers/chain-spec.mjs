import { chainSpec } from '../methods.mjs';

const fixChainSpec = (base) => (onMsg) => {
  const { send: originalSend, disconnect } = base(onMsg);
  const send = (msg) => {
    switch (msg.method) {
      case chainSpec.chainName:
        return originalSend({ ...msg, method: "system_chain" });
      case chainSpec.genesisHash:
        return originalSend({
          ...msg,
          method: "chain_getBlockHash",
          params: [0]
        });
      case chainSpec.properties:
        return originalSend({ ...msg, method: "system_properties" });
    }
    originalSend(msg);
  };
  return {
    send,
    disconnect
  };
};

export { fixChainSpec };
//# sourceMappingURL=chain-spec.mjs.map
