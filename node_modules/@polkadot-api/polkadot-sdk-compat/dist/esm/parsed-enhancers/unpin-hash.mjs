import { chainHead } from '../methods.mjs';

const unpinHash = (base) => (onMsg) => {
  const { send: _send, disconnect } = base(onMsg);
  const send = (msg) => {
    const { method, params, id, ...rest } = msg;
    if (method == chainHead.unpin && params && Array.isArray(params[1])) {
      params[1].forEach((hash, idx) => {
        _send({
          ...rest,
          id: idx === 0 ? id : `${id}-patched-${idx}`,
          method,
          params: [params[0], hash]
        });
      });
    } else _send(msg);
  };
  return { send, disconnect };
};

export { unpinHash };
//# sourceMappingURL=unpin-hash.mjs.map
