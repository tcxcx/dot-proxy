{"version":3,"file":"delay-unsubscription.mjs","sources":["../../../src/utils/delay-unsubscription.ts"],"sourcesContent":["import { Observable } from \"rxjs\"\n\nexport const delayUnsubscription =\n  (ms?: number) =>\n  <T>(source: Observable<T>): Observable<T> =>\n    new Observable((observer) => {\n      const subscription = source.subscribe({\n        next(v) {\n          observer.next(v)\n        },\n        error(e) {\n          observer.error(e)\n        },\n        complete() {\n          observer.complete()\n        },\n      })\n      const unsubscribe = () => subscription.unsubscribe()\n      return () => {\n        if (ms != null) setTimeout(unsubscribe, ms)\n        else Promise.resolve().then(unsubscribe)\n      }\n    })\n"],"names":[],"mappings":";;AAEa,MAAA,mBAAA,GACX,CAAC,EACD,KAAA,CAAI,WACF,IAAI,UAAA,CAAW,CAAC,QAAa,KAAA;AAC3B,EAAM,MAAA,YAAA,GAAe,OAAO,SAAU,CAAA;AAAA,IACpC,KAAK,CAAG,EAAA;AACN,MAAA,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,KACjB;AAAA,IACA,MAAM,CAAG,EAAA;AACP,MAAA,QAAA,CAAS,MAAM,CAAC,CAAA;AAAA,KAClB;AAAA,IACA,QAAW,GAAA;AACT,MAAA,QAAA,CAAS,QAAS,EAAA;AAAA;AACpB,GACD,CAAA;AACD,EAAM,MAAA,WAAA,GAAc,MAAM,YAAA,CAAa,WAAY,EAAA;AACnD,EAAA,OAAO,MAAM;AACX,IACa,OAAA,CAAA,OAAA,EAAU,CAAA,IAAA,CAAK,WAAW,CAAA;AAAA,GACzC;AACF,CAAC;;;;"}