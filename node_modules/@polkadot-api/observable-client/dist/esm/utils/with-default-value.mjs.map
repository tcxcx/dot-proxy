{"version":3,"file":"with-default-value.mjs","sources":["../../../src/utils/with-default-value.ts"],"sourcesContent":["import { Observable } from \"rxjs\"\n\nexport const withDefaultValue =\n  <V, T>(defaultValue: V) =>\n  (source$: Observable<T>): Observable<V | T> =>\n    new Observable((observer) => {\n      let hasEmited = false\n\n      const subscription = source$.subscribe({\n        next(v) {\n          hasEmited = true\n          observer.next(v)\n        },\n        error(e) {\n          observer.error(e)\n        },\n        complete() {\n          observer.complete()\n        },\n      })\n\n      if (!hasEmited) observer.next(defaultValue)\n\n      return subscription\n    })\n"],"names":[],"mappings":";;AAEa,MAAA,gBAAA,GACX,CAAO,YACP,KAAA,CAAC,YACC,IAAI,UAAA,CAAW,CAAC,QAAa,KAAA;AAC3B,EAAA,IAAI,SAAY,GAAA,KAAA;AAEhB,EAAM,MAAA,YAAA,GAAe,QAAQ,SAAU,CAAA;AAAA,IACrC,KAAK,CAAG,EAAA;AACN,MAAY,SAAA,GAAA,IAAA;AACZ,MAAA,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,KACjB;AAAA,IACA,MAAM,CAAG,EAAA;AACP,MAAA,QAAA,CAAS,MAAM,CAAC,CAAA;AAAA,KAClB;AAAA,IACA,QAAW,GAAA;AACT,MAAA,QAAA,CAAS,QAAS,EAAA;AAAA;AACpB,GACD,CAAA;AAED,EAAA,IAAI,CAAC,SAAA,EAAoB,QAAA,CAAA,IAAA,CAAK,YAAY,CAAA;AAE1C,EAAO,OAAA,YAAA;AACT,CAAC;;;;"}