{"version":3,"file":"doubleSet.mjs","sources":["../../src/doubleSet.ts"],"sourcesContent":["export class DoubleSet<T> {\n  private value: Map<T, Set<T>> = new Map()\n\n  constructor(values: Array<[T, T]> = []) {\n    values.forEach(([a, b]) => this.add(a, b))\n  }\n\n  public has(a: T, b: T) {\n    return this.value.get(a)?.has(b) ?? false\n  }\n  public add(a: T, b: T) {\n    if (!this.value.has(a)) {\n      this.value.set(a, new Set())\n    }\n    this.value.get(a)!.add(b)\n  }\n  public addAll(values: Array<[T, T]>) {\n    values.forEach(([a, b]) => this.add(a, b))\n  }\n  public delete(a: T, b: T) {\n    if (!this.value.has(a)) return\n    const set = this.value.get(a)!\n    set.delete(b)\n    if (!set.size) {\n      this.value.delete(a)\n    }\n  }\n  public isEmpty() {\n    return !this.value.size\n  }\n  public get values() {\n    return Array.from(this.value).flatMap(([a, values]) =>\n      Array.from(values).map((b) => [a, b] as [T, T]),\n    )\n  }\n}\n"],"names":[],"mappings":";;;AAAO,MAAM,SAAa,CAAA;AAAA,EAGxB,WAAA,CAAY,MAAwB,GAAA,EAAI,EAAA;AAFxC,IAAQ,aAAA,CAAA,IAAA,EAAA,OAAA,sBAA4B,GAAI,EAAA,CAAA;AAGtC,IAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,CAAC,CAAG,EAAA,CAAC,MAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA;AAC3C,EAEO,GAAA,CAAI,GAAM,CAAM,EAAA;AACrB,IAAA,OAAO,KAAK,KAAM,CAAA,GAAA,CAAI,CAAC,CAAG,EAAA,GAAA,CAAI,CAAC,CAAK,IAAA,KAAA;AAAA;AACtC,EACO,GAAA,CAAI,GAAM,CAAM,EAAA;AACrB,IAAA,IAAI,CAAC,IAAA,CAAK,KAAM,CAAA,GAAA,CAAI,CAAC,CAAG,EAAA;AACtB,MAAA,IAAA,CAAK,KAAM,CAAA,GAAA,CAAI,CAAG,kBAAA,IAAI,KAAK,CAAA;AAAA;AAE7B,IAAA,IAAA,CAAK,KAAM,CAAA,GAAA,CAAI,CAAC,CAAA,CAAG,IAAI,CAAC,CAAA;AAAA;AAC1B,EACO,OAAO,MAAuB,EAAA;AACnC,IAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,CAAC,CAAG,EAAA,CAAC,MAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,CAAC,CAAC,CAAA;AAAA;AAC3C,EACO,MAAA,CAAO,GAAM,CAAM,EAAA;AACxB,IAAA,IAAI,CAAC,IAAA,CAAK,KAAM,CAAA,GAAA,CAAI,CAAC,CAAG,EAAA;AACxB,IAAA,MAAM,GAAM,GAAA,IAAA,CAAK,KAAM,CAAA,GAAA,CAAI,CAAC,CAAA;AAC5B,IAAA,GAAA,CAAI,OAAO,CAAC,CAAA;AACZ,IAAI,IAAA,CAAC,IAAI,IAAM,EAAA;AACb,MAAK,IAAA,CAAA,KAAA,CAAM,OAAO,CAAC,CAAA;AAAA;AACrB;AACF,EACO,OAAU,GAAA;AACf,IAAO,OAAA,CAAC,KAAK,KAAM,CAAA,IAAA;AAAA;AACrB,EACA,IAAW,MAAS,GAAA;AAClB,IAAA,OAAO,KAAM,CAAA,IAAA,CAAK,IAAK,CAAA,KAAK,CAAE,CAAA,OAAA;AAAA,MAAQ,CAAC,CAAC,CAAG,EAAA,MAAM,MAC/C,KAAM,CAAA,IAAA,CAAK,MAAM,CAAA,CAAE,IAAI,CAAC,CAAA,KAAM,CAAC,CAAA,EAAG,CAAC,CAAW;AAAA,KAChD;AAAA;AAEJ;;;;"}